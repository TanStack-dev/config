---
source-updated-at: '2024-07-19T09:06:46.000Z'
translation-updated-at: '2025-04-25T17:58:05.413Z'
id: package-structure
title: هيكل الحزمة
---
# هيكلة الحزمة (Package Structure)

يضمن الهيكل التالي عمل الحزم بشكل مثالي مع سير عمل مستودع أحادي (monorepo) أو سير عمل Nx.

### `./package.json`

- تحتوي جميع مشاريع TanStack على `"type": "module"` لتعيين الدقة الافتراضية لملفات `.js` إلى ESM؛ لا يؤثر هذا على البناء لـ CJS.
- من الضروري أيضًا وجود حقل `"exports"`.
- لأسباب تتعلق بالتوافق مع الإصدارات القديمة، يجب أيضًا تضمين الحقول `"main"` و `"module"` و `"types"`.
- تحتوي جميع الحزم على البرامج النصية التالية التي يتم تخزينها مؤقتًا بواسطة Nx: `"test:eslint"`، `"test:types"`، `"test:lib"`، `"build"`، `"test:build"`.

### `./tsconfig.json`

- يمتد من ملف tsconfig في المستوى الجذري (مثل `"extends": "../../tsconfig.json"`).
- أضف أي خيارات خاصة بالإطار (framework) والملفات المضمنة هنا.

### `./vite.config.ts`

- يتضمن التهيئة لـ Vitest، ولـ Vite إذا تم استخدام [@tanstack/config/vite](./vite.md).

### `./src`

- يجب أن يتضمن هذا المجلد فقط الأكواد التي يتم بناؤها وشحنها للمستخدمين.
- لا يجب وضع الاختبارات في هذا المجلد، لأنها تزيد من حجم الكود المشحون، وقد تؤدي دون قصد إلى إبطال ذاكرة التخزين المؤقت لـ Nx.

### `./tests`

- يجب أن يتضمن هذا المجلد جميع ملفات الاختبار.
- يجب أن يتضمن أيضًا أي ملفات إعداد للاختبارات المطلوبة من قبل الإطار (framework).
