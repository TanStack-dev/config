---
source-updated-at: '2025-03-04T06:01:52.000Z'
translation-updated-at: '2025-05-06T20:45:05.654Z'
id: ci-cd
title: CI/CD
---
## سير عمل جيت هاب (GitHub Workflows)

- `pr.yml`:
    - يُنفذ الاختبارات لجميع طلبات السحب (pull requests)
    - يُنفذ `nx affected`، والذي ينفذ المهام فقط مع ذاكرة تخزين مؤقت غير صالحة
    - يستخدم أيضًا `pkg-pr-new` لنشر معاينات الحزم وإنشاء روابط لأمثلتنا
- `release.yml`:
    - يُنفذ الاختبارات للكود المدمج في فروع الإصدار (release branches)
    - يُنفذ `nx run-many`، والذي ينفذ جميع المهام ويضمن وجود المخرجات (ضروري لنشر البنائات)
    - يستخدم [تغييرات (Changesets)](https://github.com/changesets/changesets) للتعامل مع إدارة الإصدارات والنشر

## إن إكس (Nx)

تستخدم مشاريع تان ستاك (TanStack) إن إكس (Nx) لتمكين التنفيذ السريع لاختباراتنا وبنائنا. يتم توزيع المهام على التوازي وتخزينها مؤقتًا محليًا وفي نظام التكامل المستمر (CI). بينما يمتلك إن إكس (Nx) نظامًا واسعًا للإضافات (plugins)، فإننا نستخدمه فقط كمنفذ لسكربتات إن بي إم (NPM script runner).

### ملفات الإعداد (Config Files)

- `./nx.json`: ملف الإعداد الرئيسي، والذي يحدد تبعيات المهام، المدخلات، والمخرجات
- `./package.json`: يجب تحديد سكربتات المستوى الجذري يدويًا (مثل `test:format`)
- `./**/package.json`: يتم اكتشاف سكربتات مستوى الحزمة (مثل `build`) تلقائيًا

### وكلاء إن إكس (Nx Agents)

- يسمح لك إن إكس (Nx) بتوزيع مهامك عبر عدة آلات للتكامل المستمر (CI)، مما يزيد من عدد الوظائف التي يمكن تشغيلها على التوازي
- يُرجى ملاحظة أن هذا يتسبب في تأخير كبير عند البدء
