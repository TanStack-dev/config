---
source-updated-at: '2024-07-19T09:06:46.000Z'
translation-updated-at: '2025-04-25T17:55:57.756Z'
id: package-structure
title: Структура пакета
---
# Структура пакета

Следующая структура обеспечивает оптимальную работу пакетов с нашим монорепозиторием/Nx-воркфлоу.

### `./package.json`

- Все проекты TanStack содержат `"type": "module"` для установки разрешения `.js`-файлов по умолчанию в ESM; это не влияет на сборку для CJS
- Также обязательно наличие поля `"exports"`
- По историческим причинам следует также включать поля `"main"`, `"module"` и `"types"`
- Все пакеты содержат следующие скрипты, кэшируемые Nx: `"test:eslint"`, `"test:types"`, `"test:lib"`, `"build"`, `"test:build"`

### `./tsconfig.json`

- Расширяет корневой tsconfig (например, `"extends": "../../tsconfig.json"`)
- Добавляет специфичные для фреймворка опции и включаемые файлы

### `./vite.config.ts`

- Включает конфигурацию для Vitest и для Vite, если используется [@tanstack/config/vite](./vite.md)

### `./src`

- Эта папка должна содержать только код, который собирается и поставляется пользователям
- Тесты не должны размещаться в этой папке, так как они увеличивают размер поставляемого кода и могут случайно инвалидировать кэш Nx

### `./tests`

- Эта папка должна содержать все тестовые файлы
- Она также должна включать любые файлы настройки тестов, требуемые фреймворком
